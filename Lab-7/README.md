## Отчет по лабораторной работе № 7.
### Условия работы
**Цель работы**
Необходимо создать программу на языке Python, которая использует паттерн проектирования "Наблюдатель" для отслеживания изменений курсов валют через API Центробанка РФ. Программа должна запрашивать курсы валют и уведомлять зарегистрированных наблюдателей о изменении курсов в реальном времени или через заданные интервалы времени.
Структура реализованного задания должна представлять

*Объект* — веб-сервер FastAPI.\
*Наблюдатели* - клиенты, представляющие HTML-страницы, связывающиеся с объектом с помощью веб-сокетов. На странице должен отображаться идентификатор клиента.

### Реализация.
Был использован фреймворк FastAPI, веб-сервер написан как асинхронное приложение с использование lifespan. Сервер запускает фоновый процесс `upload_period` который уведомляет всех пользователяц об изменениях. А так же обрабатывает запросы пользователей об конкретных ценных бумагах в методе `websocket_endpoint`. Если пользователь ничего не запросил в первые 10 секунд подключения, то сервер посылает ему информацию об всех ценных бумагах.

1. Запуск сервера производится либо запуском `main.py` файла, либо с помощью консольной команды `uvicorn app.app:app --reload` из папки `Lab-7`.
![alt text](https://github.com/Kvazistam/PROG-5/blob/master/Lab-7/images/image.png)
1. Сервер развертывается на локальном хосте на 8000 порту.
   ![alt text](https://github.com/Kvazistam/PROG-5/blob/master/Lab-7/images/\image-1.png)
2. Спустя 10 секунд бездействия появляется таблица всех ценных бумаг.
   ![alt text](https://github.com/Kvazistam/PROG-5/blob/master/Lab-7/images/image-2.png)
3. Введя коды ценных бумаг можно получить информацию только для них. И теперь сервер будет уведомлять только об изменениях этих бумаг.
![alt text](https://github.com/Kvazistam/PROG-5/blob/master/Lab-7/images/image-3.png)


